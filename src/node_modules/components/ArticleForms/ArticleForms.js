import React,{useState, useEffect} from 'react'
import s  from './ArticleForms.module.css'
import BackendErrorMessages from 'pages/autenfication/component/BackendErrorMessages'
const ArticleForm = ({onSubmit, errors,initialValues}) => {

        const [title ,setTitle] = useState('')
        const [body ,setBody] = useState('')
        const [description ,setDescription] = useState('')
        const [tagList ,setTagList] = useState('')

       const handelSubmit = event => {
           event.preventDefault()
          const article={
              title,
              body,
              description,
              tagList
          }
          onSubmit(article)
          
       }

        useEffect(()=>{
            if(!initialValues){
                return
            }
            setTitle(initialValues.title)
            setDescription(initialValues.description)
            setBody(initialValues.body)
            setTagList(initialValues.tagList.join(' '))
        }, [initialValues])

    return (
        <div className={s.container} >
            {errors && <BackendErrorMessages backendErrors={errors}/>}
            <form className={s.formss} onSubmit={handelSubmit}>
            <div className={s.inputs1}>
                <input type='text'
                className={s.input}
                placeholder='Article titel'
                value={title}
                onChange={e=>setTitle(e.target.value)}
                />
            </div>
            <div className={s.inputs2}>
            <input type='text'
                className={s.input}
                placeholder='What is this Article About'
                value={description}
                onChange={e=>setDescription(e.target.value)}
                />
            </div>
            <div className={s.textarea}>
            <textarea type='text'
                className={s.texta}
                placeholder='Write Your Article'
                value={body}
                onChange={e=>setBody(e.target.value)}
                ></textarea>
            </div>
            <div className={s.inputs3}>
            <input type='text'
                className={s.input}
                placeholder='Enter Tags'
                value={tagList}
                onChange={e=>setTagList(e.target.value)}
                />
            </div>
            <div className={s.btn5}>
                <button 
                type='submit'
                className={s.btn}>Publish Article</button>
            </div>
            
            </form>
        </div>
    )
}

export default ArticleForm