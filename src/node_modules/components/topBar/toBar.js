import React, { useContext, Fragment } from 'react'
import s from './topBar.module.css'
import { NavLink } from 'react-router-dom';

import {CurrentUserContext} from 'contexts/currentUser'

const TopBar  = () => {
    const [currentUserState]= useContext(CurrentUserContext)
    console.log ('currentUserState' , currentUserState)
    return (
        <div className={s.container}>
        <div className={s.lenght}>
            <div className={s.medium}>MEDIUM</div>
            </div>
        <div className={s.right}>
        <ul className={s.links}>
            <NavLink to='/'  className={s.Home}>Home</NavLink>
            {currentUserState.isLoggedIn === false && (
                <Fragment>
                     <NavLink to='/login' className={s.Singin}>Singin in</NavLink>
                     <NavLink to='/register' className={s.Singup}>Singin up</NavLink>
                </Fragment>
            )}
            {currentUserState.isLoggedIn && (
                <Fragment>
                    <NavLink to='/articles/new' className={s.Singin}>New Post</NavLink>
                    <NavLink to={`/profiles/${currentUserState.currentUser.image}`} className={s.Singup}>
                    <img className={s.image} src={currentUserState.currentUser.image} style={{color:'grey'}} alt='' /> 
                    &nbsp;  {currentUserState.currentUser.username}
                    </NavLink>
                </Fragment>
            )}
          
        </ul>    
        </div>    
        </div>
    )
}

export default TopBar;